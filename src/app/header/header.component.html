<mat-toolbar class="nav">
  <svg
    (click)="translate()"
    class="ham hamRotate ham1"
    viewBox="0 0 100 100"
    width="50"
    onclick="this.classList.toggle('active')"
  >
    <path
      class="line top"
      d="m 30,33 h 40 c 0,0 9.044436,-0.654587 9.044436,-8.508902 0,-7.854315 -8.024349,-11.958003 -14.89975,-10.85914 -6.875401,1.098863 -13.637059,4.171617 -13.637059,16.368042 v 40"
    />
    <path class="line middle" d="m 30,50 h 40" />
    <path
      class="line bottom"
      d="m 30,67 h 40 c 12.796276,0 15.357889,-11.717785 15.357889,-26.851538 0,-15.133752 -4.786586,-27.274118 -16.667516,-27.274118 -11.88093,0 -18.499247,6.994427 -18.435284,17.125656 l 0.252538,40"
    />
  </svg>
  <svg
    (click)="openPanier()"
    xmlns="http://www.w3.org/2000/svg"
    class="icon icon-tabler icon-tabler-shopping-bag"
    width="50"
    height="35"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    stroke="currentColor"
    fill="none"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
    <path
      d="M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z"
    ></path>
    <path d="M9 11v-5a3 3 0 0 1 6 0v5"></path>
  </svg>

  <h1>JAYFII</h1>
</mat-toolbar>
<nav>
  <div class="nav__container">
    <!-- ========== Boutique en Cours ========== -->
    <a
      id="a"
      class="nav__item"
      (click)="link('#a')"
      (click)="open()"
      *ngIf="monRole !== 'ROLE_CAISSIER'"
    >
      <div class="nav__item-icon">
        <mat-icon>store</mat-icon>
      </div>
      <div class="nav__item-name">
        En activité :
        {{ currentStore?.nomBoutique }}
      </div>
    </a>
    <!-- ========== Admin ========== -->
    <a
      id="b"
      class="nav__item"
      routerLink="../admin"
      (click)="link('#b')"
      *ngIf="monRole == 'ROLE_ADMIN'"
    >
      <div class="nav__item-icon">
        <mat-icon>account_circle</mat-icon>
      </div>
      <div class="nav__item-name">Admin</div>
    </a>
    <!-- ========== Profil ========== -->
    <a
      id="c"
      class="nav__item"
      routerLink="../profile"
      (click)="link('#c')"
      *ngIf="monRole !== 'ROLE_CAISSIER'"
    >
      <div class="nav__item-icon">
        <mat-icon>person</mat-icon>
      </div>
      <div class="nav__item-name">Profil</div>
    </a>
    <!-- ========== Dashboard ========== -->
    <a
      id="d"
      class="nav__item"
      routerLink="../dashboard"
      (click)="link('#d')"
      *ngIf="monRole !== 'ROLE_CAISSIER'"
    >
      <div class="nav__item-icon">
        <mat-icon>dashboard</mat-icon>
      </div>
      <div class="nav__item-name">Dashboard</div>
    </a>
    <!-- ========== Produits ========== -->
    <a
      id="e"
      class="nav__item"
      routerLink="../produits"
      (click)="link('#e')"
      *ngIf="monRole !== 'ROLE_CAISSIER'"
    >
      <div class="nav__item-icon">
        <mat-icon>shopping_basket</mat-icon>
      </div>
      <div class="nav__item-name">Produits</div>
    </a>
    <!-- ========== Catégories ========== -->
    <a
      id="f"
      class="nav__item"
      routerLink="../categories"
      (click)="link('#f')"
      *ngIf="monRole !== 'ROLE_CAISSIER'"
    >
      <div class="nav__item-icon">
        <mat-icon>bubble_chart</mat-icon>
      </div>
      <div class="nav__item-name">Catégories</div>
    </a>
    <!-- ========== PDV ========== -->
    <a
      id="g"
      class="nav__item"
      routerLink="../poc"
      (click)="link('#g')"
      *ngIf="monRole !== 'ROLE_CAISSIER'"
    >
      <div class="nav__item-icon">
        <mat-icon>add_shopping_cart</mat-icon>
      </div>
      <div class="nav__item-name">PDV</div>
    </a>
    <!-- ========== Déconnexion ========== -->
    <a id="h" class="nav__item" (click)="link('#h'); deconnexion()">
      <div class="nav__item-icon">
        <mat-icon name="log-out-outline" fontIcon="logout"></mat-icon>
      </div>
      <div class="nav__item-name">Se Déconnecter</div>
    </a>
  </div>
</nav>

<div class="popup-container hidden">
  <div class="popup-content">
    <div class="close" (click)="close()">
      <i class="fas fa-close"></i>
    </div>
    <div class="title">
      <h1>Veuillez choisir une boutique</h1>
    </div>
    <div class="content-child">
      <div class="card" *ngFor="let boutique of shops">
        <img
          src="{{ 'data:image/png;base64,' + boutique?.imageBoutique }}"
          class="card-img-top"
        />
        <div class="card-body">
          <h2 class="card-title">{{ boutique?.nomBoutique }}</h2>
          <p class="card-text">
            {{ boutique?.adresse }}
          </p>
          <p class="card-text">
            <a
              class="color color-dark"
              href="{{ boutique?.lienBoutique }}"
              target="_blank"
              >Site web de la boutique</a
            >
          </p>
          <a (click)="switch(boutique); close()" class="btn btn-outline-dark"
            >Choisir</a
          >
        </div>
      </div>
    </div>
  </div>
</div>
