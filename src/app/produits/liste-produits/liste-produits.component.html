<app-spinner *ngIf="spin"></app-spinner>
<app-header></app-header>
<!-- ========== First Parent ========== -->
<div class="container">
  <div class="first-parent">
    <div class="first-container">
      <button routerLink="add">
        <i class="fas fa-plus" style="font-size: 10px"></i>
        <p class="ajout">AJOUTER UN PRODUIT</p>
      </button>
      <div (click)="toTrash()">
        <i class="fas fa-trash" style="font-size: 20px" title="Supprimer"></i>
      </div>
    </div>
    <div class="second-container">
      <mat-form-field appearance="outline">
        <mat-label>Catégorie</mat-label>
        <mat-select>
          <mat-option value="one" (click)="refresh()">Tous les produits</mat-option>
          <mat-option *ngFor="let categorie of mesCategories" (click)="selectCategorie(categorie)">
            {{ categorie?.nom }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Alerte de Stock</mat-label>
        <mat-select>
          <mat-option value="one" (click)="refresh()">Tous les produits</mat-option>
          <mat-option value="two" (click)="filtreStock()">En Rupture</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <!-- ========== Second Parent ========== -->
  <div class="second-parent">
    <div class="first-contayner">
      <mat-checkbox (change)="check($event)"> </mat-checkbox>
      <span style="margin: 0 0 0 4em">Nom du Produit</span>
    </div>
    <div class="second-contayner">
      <span>Catégorie</span>
      <span>Prix</span>
      <span>Coût</span>
      <span>En Stock</span>
    </div>
  </div>
  <!-- ========== Third Parent ========== -->
  <div class="third-parent" *ngFor="let produit of pageSlice | filter : category">
    <div class="mini-parent">
      <div class="firste-container">
        <mat-checkbox [checked]="isSelected" (change)="coche($event, produit)">
          <span style="margin: 0 1em" [routerLink]="['modifier', produit.id]" title="Modifier">
            <i class="fas fa-edit" style="font-size: 20px"></i>
          </span>
          <span style="margin: 0 0 0 1em">{{ produit?.nom }}</span>
        </mat-checkbox>
      </div>
    </div>
    <div class="autre-mini">
      <div class="seconde-container">
        <span>{{ produit.categorie[0]?.nom }}</span>
        <span>{{ produit?.prix }} FCFA</span>
        <span>{{ produit?.cout }} FCFA</span>
        <span>{{ produit?.quantiteEnStock }}</span>
      </div>
    </div>
  </div>
  <!-- ========== Pagination ========== -->
  <mat-paginator [length]="mesProduits.length" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 50]" showFirstLastButtons
    (page)="onPageChange($event)">
  </mat-paginator>
</div>